(this.webpackJsonpcovid19=this.webpackJsonpcovid19||[]).push([[0],{112:function(e,t,a){e.exports=a(122)},117:function(e,t,a){},119:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){"use strict";a.r(t);var n=a(43),r=a.n(n),o=a(104),i=a.n(o),c=(a(117),a(105)),s=a(69),u=a.n(s),l=a(102),p=a(109),f=(a(119),function(){return r.a.createElement("div",{className:"loader"},"Loading...")}),d=a(62),h=a(63),m=a(44),v=a(51),y=a(108),g=a(110),b=function(){function e(t){Object(d.a)(this,e),this.ele=t}return Object(h.a)(e,[{key:"createMap",value:function(){m.d(g.a);var e=m.b(this.ele,v.b);try{e.geodata=y.a}catch(t){e.raiseCriticalError(new Error('Map geodata could not be loaded. Please download the latest <a href="https://www.amcharts.com/download/download-v4/">amcharts geodata</a> and extract its contents into the same directory as your amCharts files.'))}return this.chart=e,e}},{key:"mapProjection",value:function(e){var t;this.chart.projection=new v.f.Orthographic,this.chart.panBehavior=e;for(var a=arguments.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];(t=this.chart).padding.apply(t,n)}},{key:"chartConfig",value:function(e,t,a){this.chart.zoomControl=new v.d,this.chart.backgroundSeries.mapPolygons.template.polygon.fill=m.a(e),this.chart.backgroundSeries.mapPolygons.template.polygon.fillOpacity=1,this.chart.deltaLongitude=t,this.chart.deltaLatitude=a,this.chart.adapter.add("deltaLatitude",(function(e){return m.c.fitToRange(e,-90,90)}))}},{key:"mapLines",value:function(e){var t=this.chart.series.push(new v.a);t.mapLines.template.stroke=m.a(e),t.fitExtent=!1,t.mapLines.template.strokeOpacity=.2}}],[{key:"chart",get:function(){return this.chart}}]),e}(),O=function(){function e(t){Object(d.a)(this,e),this.chart=t}return Object(h.a)(e,[{key:"createPolygonSeries",value:function(){var e=this.chart.series.push(new v.c);e.useGeodata=!0,e.calculateVisualCenter=!0,e.tooltip.background.fillOpacity=1,e.tooltip.background.cornerRadius=5;var t=e.mapPolygons.template;return t.nonScalingStroke=!0,t.fill=m.a("#212121"),t.stroke=m.a("#4e4e4e"),e.calculateVisualCenter=!0,t.propertyFields.id="id",t.tooltipPosition="fixed",t.fillOpacity=1,t.events.on("over",(function(e){e.target.dummyData&&(e.target.dummyData.isHover=!0)})),t.events.on("out",(function(e){e.target.dummyData&&(e.target.dummyData.isHover=!1)})),this.polygonSeries=e,e}},{key:"hoverSeries",value:function(e){var t=this.polygonSeries.mapPolygons.template.states.create("hover");t.properties.fillOpacity=1,t.properties.fill=m.a(e)}}]),e}(),k=function(){function e(t){Object(d.a)(this,e),this.chart=t}return Object(h.a)(e,[{key:"createMeaselsSeries",value:function(e,t,a){var n=this.chart.series.push(new v.c);n.tooltip.background.fillOpacity=1,n.tooltip.background.cornerRadius=10,n.tooltip.autoTextColor=!1,n.tooltip.label.fill=m.a(e),n.tooltip.dy=-5;var r=n.mapPolygons.template;r.fill=m.a(t),r.strokeOpacity=0,r.fillOpacity=.75,r.tooltipPosition="fixed";var o=n.mapPolygons.template.states.create("hover");return o.properties.fillOpacity=1,o.properties.fill=m.a(a),n}}]),e}(),w=function(){function e(t,a){Object(d.a)(this,e),this.polygonSeries=t,this.measelsSeries=a}return Object(h.a)(e,[{key:"mapDataToMap",value:function(e){var t=this;this.polygonSeries.events.on("inited",(function(){t.polygonSeries.mapPolygons.each((function(a){var n=e[a.id];if((null===n||void 0===n?void 0:n.confirmed)>0){var r=t.measelsSeries.mapPolygons.create();r.multiPolygon=v.e(a.visualLongitude,a.visualLatitude,Math.max(.2,Math.log(n.confirmed)*Math.LN10/10)),r.tooltipText="".concat(a.dataItem.dataContext.name,": \n             \u0627\u0644\u062d\u0627\u0644\u0627\u062a \u0627\u0644\u0645\u064f\u0633\u062c\u0644\u0629 : ").concat(n.confirmed,"\n             \u062d\u0627\u0644\u0627\u062a \u0627\u0644\u062a\u0639\u0627\u0641\u064a : ").concat(n.recovered,"\n             \u062d\u0627\u0644\u0627\u062a \u0627\u0644\u0648\u0641\u0627\u0629 : ").concat(n.deaths,"\n            "),a.dummyData=r,r.events.on("over",(function(){a.isHover=!0})),r.events.on("out",(function(){a.isHover=!1}))}else a.tooltipText=a.dataItem.dataContext.name+": \u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a \u0645\u064c\u0633\u062c\u0644\u0629",a.fillOpacity=.9}))}))}}]),e}();function j(e,t){var a=new b(e);a.createMap(),a.mapProjection("rotateLongLat",20,20,20,20);var n=-30,r=-30;a.chartConfig("#000000",n,r),a.mapLines("#ff0000");var o=new O(a.chart),i=o.createPolygonSeries();o.hoverSeries("#767E91");var c=new k(a.chart).createMeaselsSeries("#eee","#B30000","#993400");new w(i,c).mapDataToMap(t)}a(121);var x=function(){var e=Object(n.useState)(!0),t=Object(p.a)(e,2),a=t[0],o=t[1],i=Object(n.useRef)();return Object(n.useEffect)((function(){Object(l.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(){return(a=Object(l.a)(u.a.mark((function e(t){var a,n,r,o,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,r=n.countries.filter((function(e){return e.iso2})).map((function(e){return"".concat(t,"/").concat(e.iso2)})),e.next=9,Promise.all(r.map(function(){var e=Object(l.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 9:return o=e.sent,i=o.filter((function(e){return e.confirmed})).map((function(e){var t=e.confirmed.detail.slice(41,43),a={confirmed:e.confirmed.value,recovered:e.recovered.value,deaths:e.deaths.value};return Object(c.a)({},t,a)})).reduce((function(e,t){return Object.assign(e,t)}),{}),e.abrupt("return",i);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)},t=function(e){return a.apply(this,arguments)},e.next=4,t("https://covid19.mathdro.id/api/countries");case 4:n=e.sent,o(!1),j(i.current,n);case 7:case"end":return e.stop()}}),e)})))()}),[]),a?r.a.createElement(f,null):r.a.createElement("div",{ref:i,className:"Map"})};i.a.render(r.a.createElement((function(){return r.a.createElement("div",null,r.a.createElement(x,null))}),null),document.getElementById("root"))}},[[112,1,3]]]);
//# sourceMappingURL=main.7f567540.chunk.js.map